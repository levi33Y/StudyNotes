# SugarTalk 1.2

## phase-1

### 预定自定义周期会议

预定会议-周期自定义



修改预定会议-周期自定义



### 选择屏幕作为共享内容

进入会议



### 互动批注



### 锁定会议

加入会议窗口



首页窗口



會議中，锁定会议

會議中，安全选项鉴权

会议中，更新锁定会议状态



## phase-2

等候室

~~~mermaid
sequenceDiagram
participant UserA as 主持人
participant UserB as 等候室参会人
participant UserC as 自动准入参会人
participant LiveKit as LiveKit
participant Signaling as API

UserA->>LiveKit: 连接 LiveKit
UserA->>UserA: 初始化房间状态
UserA->>UserA: 订阅流

UserB->>LiveKit: 连接 LiveKit
UserB->>UserB: 初始化房间状态
LiveKit-->>UserA: ParticipantConnected事件
UserA->>Signaling: 获取会议信息
Signaling-->>UserA: 返回会议信息
UserA->>UserA: 更新房间参会人、等候室、未入会信息

UserC->>LiveKit: 连接 LiveKit
UserC->>UserC: 初始化房间状态
UserC->>UserC: 订阅流
LiveKit-->>UserA: ParticipantConnected事件
UserA->>Signaling: 获取会议信息
Signaling->>UserA: 返回会议信息
UserA->>UserA: 更新房间参会人、等候室、未入会信息
LiveKit-->>UserB: ParticipantConnected事件

UserA->>Signaling: 设置UserB准入
UserA->>LiveKit: 发送DataChannel广播
UserA->>UserA: 更新房间参会人、等候室、未入会信息
LiveKit->>UserB: 接收DataChannel
UserB->>Signaling: 获取会议信息
Signaling->>UserB: 返回会议信息
UserB->>UserB: 更新房间参会人、等候室、未入会信息
UserB->>UserB:开启订阅流
LiveKit->>UserC: 接收DataChannel
UserC->>Signaling: 获取会议信息
Signaling->>UserC: 返回会议信息
UserC->>UserC: 更新房间参会人、等候室、未入会信息

UserA->>Signaling: 设置UserC移入等候室
UserA->>LiveKit: 发送DataChannel广播
UserA->>UserA: 更新房间参会人、等候室、未入会信息
LiveKit->>UserC: 接收DataChannel
UserC->>Signaling: 获取会议信息
Signaling->>UserC: 返回会议信息
UserC->>UserC: 更新房间参会人、等候室、未入会信息
UserC->>UserC:停止订阅流，停止流推送
LiveKit->>UserB: 接受DataChannel
UserB->>Signaling: 获取会议信息
Signaling->>UserB: 返回会议信息
UserB->>UserB: 更新房间参会人、等候室、未入会信息

UserA->>Signaling: 设置UserC移除等候室
UserA->>LiveKit: 发送DataChannel 【UserC sid】
LiveKit->>UserC: 接收DataChannel
UserC->>Signaling: 离开会议
LiveKit-->>UserA: handleParticipantDisconnected事件
UserA->>Signaling: 获取会议信息
Signaling->>UserA: 返回会议信息
UserA->>UserA: 更新房间参会人、等候室、未入会信息
LiveKit-->>UserB: handleParticipantDisconnected事件
UserB->>Signaling: 获取会议信息
Signaling->>UserB: 返回会议信息
UserB->>UserB: 更新房间参会人、等候室、未入会信息


~~~

v主持人快速会议，开启等候室

v主持人移除

v主持人准入

v主持人自动转入

v参会人再次入会，不进入等候室

v主持人全部准入

v主持人全部移除

v主持人修改等候室名

v主持人移动参会人至等候室

v参会人加入会议，进入等候室

v参会人改名

v参会人开麦

v参会人开视频

v参会人离开会议

联席主持人、创建者会中进不了等候室

创建者进会进不了等候室



主持人修改成员名

主持人静音或解除

主持人移除

主持人全部静音或移除

主持人转让权限









